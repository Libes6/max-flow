# Архитектура приложения Flow Max

## Обзор

Приложение построено по принципу **Feature-based архитектуры** с четким разделением ответственности и модульностью.

## Структура проекта

```
src/
├── app/                    # Приложение (App Layer)
│   ├── navigation/         # Навигация приложения
│   └── providers/          # Провайдеры контекста
├── features/               # Фичи (Features Layer)
│   ├── habits/            # Управление привычками
│   ├── settings/          # Настройки
│   ├── today/             # Сегодняшние задачи
│   ├── history/           # История
│   ├── statistics/        # Статистика
│   └── splash/            # Заставка
└── shared/                 # Общие ресурсы (Shared Layer)
    ├── ui/                 # Переиспользуемые UI компоненты
    ├── theme/              # Тема и стили
    ├── lib/                # Утилиты и библиотеки
    └── types/              # Общие типы
```

## Принципы архитектуры

### 1. Feature-based подход
- Каждая фича (`feature`) - это независимый модуль
- Фича содержит только то, что ей нужно
- Фичи не зависят друг от друга
- Каждая фича имеет свою структуру: `ui/`, `model/`, `hooks/`

### 2. Слои приложения
- **App Layer** - настройка приложения, навигация, провайдеры
- **Features Layer** - бизнес-логика и UI фич
- **Shared Layer** - переиспользуемые компоненты и утилиты

### 3. Импорты и экспорты
- Каждая фича экспортирует свои компоненты через `index.ts`
- Главный `src/features/index.ts` экспортирует все фичи
- Импорты идут через `../../features` вместо прямых путей

### 4. Структура фичи
```
features/habits/
├── index.ts           # Экспорт компонентов
├── ui/                # UI компоненты
│   ├── HabitsScreen.tsx
│   ├── HabitCard.tsx
│   └── ...
├── model/             # Модели данных
│   ├── Habit.ts
│   └── HabitStore.ts
└── hooks/             # Кастомные хуки (если есть)
```

## Преимущества архитектуры

1. **Модульность** - каждая фича независима
2. **Масштабируемость** - легко добавлять новые фичи
3. **Переиспользование** - общие компоненты в shared
4. **Тестируемость** - изолированные модули легче тестировать
5. **Читаемость** - четкая структура и понятные импорты

## Правила разработки

1. **Новые фичи** создавать в `src/features/`
2. **Общие компоненты** выносить в `src/shared/ui/`
3. **Типы** фичи держать внутри фичи, общие - в `src/shared/types/`
4. **Импорты** делать через index.ts файлы
5. **Стили** использовать StyleSheet.create
6. **Хуки** создавать для переиспользуемой логики

## Примеры использования

### Импорт компонентов фичи
```typescript
import { HabitsScreen, HabitCard } from '../../features';
```

### Импорт общих компонентов
```typescript
import { Button, BottomSheet } from '../../shared/ui';
```

### Импорт темы
```typescript
import { useTheme, colors, spacing } from '../../shared/theme';
```
